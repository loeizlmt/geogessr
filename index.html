<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
<script type="module" src="script.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>geoguessr</title>
</head>
<body id="body">
    <header>
    <button class="btn-logout" onclick="window.location='logout.php';" >déconnexion</button>
    <div class="h1-header">
        <h1 class="titre-header">geoguessr</h1>
        </div>
    </header>

    <script type="module">
            import { APchangement } from "./script.js";

        // vérifie si l'utilisateur est connecté
        document.addEventListener('DOMContentLoaded', function() {
            // si l'utilisateur est connecté, affiche bienvenue, le bouton jouer
            // et initialise les cookies qui seront utiles pour la suite.
            if(localStorage.getItem('user-id')) {
            document.getElementById("connecté").innerHTML += "Bienvenue " + localStorage.getItem('user-id');
            document.getElementById("connecté").style.display = "flex";
            document.getElementById("btn-jouer").style.display = "flex";
            localStorage.setItem("image", 1);
            localStorage.setItem("score", 0);
            localStorage.setItem("imageTerminés", 0);
            localStorage.setItem("nomImg", "");
            APchangement();
}
else {
    // si l'utilisateur n'est pas connecté, affiche un message qui lui permet de créer un compte ou de se connecter
    document.getElementById("pas-de-compte").style.display = "flex";
}
        });
</script>
    <div id="pas-de-compte">
    <H1> Attention si vous n'avez pas de compte vous devez <a href="créer_compte.html">en créer un</a> avant de jouer au risque de tout perdre</H1><br>
    <p>si vous avez un compte il vous suffit de vous <a href="login.php">connecter</a> avant de jouer</p><br>
    </div>
<div id="connecté" style="display:none;">

</div>
<div class="btn-jouer" id="btn-jouer"  style="display:none;">
    <script>
        // fonction qui permet de lancer le jeu et de réinitialiser les cookies
        function lancerLeJeu() {
            window.location = "image.html";
            localStorage.setItem("image", 0);
            localStorage.setItem("score", 0);
            localStorage.setItem("imageTerminés", 0);
            localStorage.setItem("nombreAléatoire", "[]");
        }
    </script>
    <button class="jouer"  onclick="lancerLeJeu()">jouer</button>
    <a href="tableau-score.php"><button class="jouer">tableau-score</button></a>
    <div class="règles">
        <h2>Règles du jeu</h2>
        <p>Vous allez devoir deviner le lieu où vous vous trouvez en cliquant sur la carte du lycée.
            <br> 
            Plus vous vous rapprochez du lieu exact, plus vous gagnez de points. 
            <br>
            Si vous êtes à moins de 1.5 mètres du lieu exact, vous gagnez 100 points. 
            <br>
            Sinon vous perdez 2 point tous les 1 mètres de distance avec le lieu. 
            <br>
            Il y a 32 lieux à trouver, vous pouvez donc gagner jusqu'a 32 000 points 
            <br>
            qui seront remis sur 100 avant d'être envoyé dans le tableau des scores.
            <br>
            Bonne chance !</p>
    </div>
</div>
<script>
</script>
</body>
</html>